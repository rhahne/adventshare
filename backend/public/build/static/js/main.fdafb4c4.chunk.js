(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(24),i=a.n(l),c=a(3),r=a(4),o=a(6),m=a(5),u=a(7),h=a(2),d=a(25),g=a(10),p=a(9),v=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.loggedIn?s.a.createElement(E,this.props):s.a.createElement(b,this.props))}}]),t}(n.Component);function E(e){return s.a.createElement("nav",{className:"navbar is-transparent",role:"navigation","aria-label":"main navigation",style:{borderBottom:"solid 1px hsl(0, 0%, 96%)"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(g.b,{className:"navbar-item",to:"/",style:{color:"white"}},s.a.createElement("img",{src:"/img/compass.png",alt:"Adventshare",height:"28",style:{marginRight:"10px"}}),s.a.createElement("h1",{className:"title is-5"},"Adventshare")),s.a.createElement("span",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"navMenu",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"button is-light",style:{},onClick:function(){e.toggleModal("search")}},s.a.createElement(p.a,{style:{marginRight:"5px"},icon:"search"}),"Search")))),s.a.createElement("div",{className:"navbar-end"},s.a.createElement(g.b,{className:"navbar-item",to:"/users/account"},"Account"),s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement(g.b,{className:"button is-light",to:"/users/logout"},"Log out")))))))}function b(e){return s.a.createElement("nav",{className:"navbar is-transparent",role:"navigation","aria-label":"main navigation",style:{borderBottom:"solid 1px hsl(0, 0%, 96%)"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(g.b,{className:"navbar-item has-text-link",to:"/"},s.a.createElement("img",{src:"/img/compass.png",style:{marginRight:"10px"},alt:"Adventshare",height:"28"}),s.a.createElement("h1",{className:"title is-5"},"Adventshare")),s.a.createElement("span",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navMenu"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"navMenu",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"button is-light",style:{},onClick:function(){e.toggleModal("search")}},s.a.createElement(p.a,{style:{marginRight:"5px"},icon:"search"}),"Search")))),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"button is-light",onClick:function(){e.toggleModal("signup")}},"Sign up"),s.a.createElement("div",{className:"button is-info",onClick:function(){e.toggleModal("login")}},"Log in")))))))}document.addEventListener("DOMContentLoaded",function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.target,a=document.getElementById(t);e.classList.toggle("is-active"),a.classList.toggle("is-active")})})});var f=a(19),y=a(8),N=a.n(y),k=a(11),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={allAreas:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getAllAreas",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/areas")}).then(function(t){e.setState({allAreas:t.data})}).catch(function(e){})}},{key:"componentDidMount",value:function(){this.getAllAreas()}},{key:"render",value:function(){return s.a.createElement(k.Container,null,s.a.createElement(k.Section,null,s.a.createElement("h1",{className:"title is-3"},this.props.title),s.a.createElement("div",{className:"columns"},this.state.allAreas.map(function(e){return s.a.createElement("div",{className:"column",key:e._id},s.a.createElement(g.b,{to:"/areas/details/"+e._id},s.a.createElement("div",{className:"card action-card is-flex is-shadowless",style:{backgroundImage:"url("+e.img[0]+")",justifyContent:"center"}},s.a.createElement("div",{className:"card-content action-card-content"},s.a.createElement("div",{className:"content is-flex",style:{height:"45px"}},s.a.createElement("h3",{className:"title has-text-light"},e.name))))))}))))}}]),t}(n.Component),j=function(e){return s.a.createElement(k.Container,null,s.a.createElement(k.Section,null,s.a.createElement("h1",{className:"title is-3"},e.title," ",s.a.createElement("span",{className:"is-lowercase"},e.activity.name)," "),s.a.createElement("div",{className:"columns is-multiline"},e.areas.map(function(e){return s.a.createElement("div",{className:"column",key:e._id},s.a.createElement(g.b,{to:"/areas/details/"+e._id},s.a.createElement("div",{className:"card action-card is-flex is-shadowless",style:{backgroundImage:"url("+e.img[0]+")",justifyContent:"center"}},s.a.createElement("div",{className:"card-content action-card-content"},s.a.createElement("div",{className:"content is-flex",style:{height:"45px"}},s.a.createElement("h3",{className:"title has-text-light"},e.name))))))}))))},S=function(e){var t=e.area?e.area:[],a=e.allActivities?e.allActivities:[];return s.a.createElement(k.Container,null,s.a.createElement(k.Section,null,s.a.createElement("h1",{className:"title is-3"},s.a.createElement("span",{style:{textDecoration:"none"}},t.name)),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-two-fifths",style:{marginRight:"20px"}},s.a.createElement("div",{className:"about-area-card",style:{borderRadius:"2px",backgroundImage:"url("+t.img[0]+")"},alt:"area-img"})),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"columns is-variable is-1-mobile is-0-tablet is-3-desktop is-8-widescreen is-2-fullhd"},s.a.createElement("div",{className:"column is-custom-icon"},s.a.createElement(p.a,{icon:"info",style:{marginLeft:"6px"}})),s.a.createElement("div",{className:"column "},s.a.createElement("p",{className:"subtitle is-5"},t.description))),s.a.createElement("div",{className:"columns is-variable is-1-mobile is-0-tablet is-3-desktop is-8-widescreen is-2-fullhd"},s.a.createElement("div",{className:"column is-custom-icon"},s.a.createElement(p.a,{icon:"mountain"})),s.a.createElement("div",{className:"column"},s.a.createElement("ul",null,a.map(function(e){return s.a.createElement("li",{className:"subtitle is-5 is-marginless",key:e._id},e.name)}))))))))},w=a(72),A=function(e){return s.a.createElement(k.Container,null,s.a.createElement(k.Section,null,s.a.createElement("h1",{className:"title is-3"},e.title," ",e.activityTitle?s.a.createElement("span",{className:"is-lowercase"},e.activityTitle," "," trip"):""),s.a.createElement("div",{className:"columns is-multiline"},e.housing.map(function(e){return s.a.createElement("div",{className:"column is-3",key:e._id},s.a.createElement(g.b,{to:"/housings/"+e._id},s.a.createElement("div",{className:"housing-card",style:{borderRadius:"2px",backgroundImage:"url("+e.img[0]+")"},alt:""}),s.a.createElement("small",{className:"is-size-7 has-text-grey is-uppercase",style:{fontWeight:"750"}},e.address.city,", ",e.address.country," - ",e.area.name),s.a.createElement("p",{style:{margin:"0px"},className:"title is-5 is-capitalized"},e.title),s.a.createElement("p",{className:"has-text-dark"},"\u20ac"+e.pricing+" per week")))}))))},I=function(e){return s.a.createElement(k.Container,null,s.a.createElement(k.Section,null,s.a.createElement("h1",{className:"title is-3"},e.title),s.a.createElement("div",{className:"columns"},e.activity.map(function(e){return s.a.createElement("div",{className:"column",key:e._id},s.a.createElement(g.b,{to:"/activities/details/"+e._id},e.img.map(function(t){return s.a.createElement("div",{key:t,className:"card action-card is-flex is-shadowless",style:{backgroundImage:"url("+t+")",justifyContent:"center"}},s.a.createElement("div",{className:"card-content action-card-content"},s.a.createElement("div",{className:"content is-flex",style:{height:"45px"}},s.a.createElement("h3",{className:"title has-text-light"},e.name))))})))}))))},C=a(13),M=a.n(C),D=a(41),x=a.n(D),H=(a(55),a(30)),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={searchRes:[],searched:!1,searchInput:[]},a.getSearchResult=a.getSearchResult.bind(Object(h.a)(Object(h.a)(a))),a.sendQueryUp=a.sendQueryUp.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getSearchResult",value:function(e){this.setState({searched:!0,searchRes:e}),this.props.modalSearch?(this.props.history.push({pathname:"/search/q",state:{searchRes:e,searchInput:this.state.searchInput}}),this.props.toggleSearchModal()):this.props.history.push({pathname:"/search/q",state:{searchRes:e,searchInput:this.state.searchInput}})}},{key:"sendQueryUp",value:function(e){this.setState({searchInput:e})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.searched?"":s.a.createElement(L,{getSearchResult:this.getSearchResult,sendQueryUp:this.sendQueryUp}))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(w.a)({},n,s))},a.handleSubmit=function(e){e.preventDefault();var t=a.state;a.props.sendQueryUp(t),N()({method:"post",url:"".concat("http://localhost:3002/api","/search"),data:t}).then(function(e){a.props.getSearchResult(e.data)}).catch(function(e){a.setState({errorMessage:"Errors\xf6n"})})},a.handleFromChange=a.handleFromChange.bind(Object(h.a)(Object(h.a)(a))),a.handleToChange=a.handleToChange.bind(Object(h.a)(Object(h.a)(a))),a.state={where:"",activity:"",from:void 0,to:void 0,errorMessage:""},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"showFromMonth",value:function(){var e=this.state,t=e.from,a=e.to;t&&M()(a).diff(M()(t),"months")<2&&this.to.getDayPicker().showMonth(t)}},{key:"handleFromChange",value:function(e){this.setState({from:e})}},{key:"handleToChange",value:function(e){this.setState({to:e},this.showFromMonth)}},{key:"render",value:function(){var e=this,t=this.state,a=t.from,n=t.to,l={start:a,end:n};return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Where"),s.a.createElement("div",{className:"select"},s.a.createElement("select",{onChange:this.handleChange,type:"text",name:"where",value:this.state.where},s.a.createElement("option",null,"Select"),s.a.createElement("option",{value:"5c923f3aa949af76694593f8"},"Western Swiss Alps"),s.a.createElement("option",{value:"5c923f3aa949af76694593f9"},"Jura Mountains"),s.a.createElement("option",{value:"5c923f3aa949af76694593fa"},"Eastern Swiss Alps"),s.a.createElement("option",{value:"5c9366297df282b768d776e5"},"Black Forest"),s.a.createElement("option",{value:"5c9366887df282b768d776e6"},"French Alps")))),s.a.createElement("div",{className:"form-double InputFromTo"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Check-in"),s.a.createElement("div",{className:"control"},s.a.createElement(x.a,{value:a,placeholder:"From",format:"LL",formatDate:H.formatDate,parseDate:H.parseDate,dayPickerProps:{selectedDays:[a,{from:a,to:n}],disabledDays:{after:n},toMonth:n,modifiers:l,numberOfMonths:2,onDayClick:function(){return e.to.getInput().focus()}},onDayChange:this.handleFromChange}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",null,s.a.createElement("label",{className:"label"},"Check-out"),s.a.createElement("div",{className:"control"},s.a.createElement("span",{className:"InputFromTo-to"},s.a.createElement(x.a,{ref:function(t){return e.to=t},value:n,placeholder:"To",format:"LL",formatDate:H.formatDate,parseDate:H.parseDate,dayPickerProps:{selectedDays:[a,{from:a,to:n}],disabledDays:{before:a},modifiers:l,month:a,fromMonth:a,numberOfMonths:2},onDayChange:this.handleToChange})))))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"button is-link",type:"submit",value:"Search"}))),this.state.errorMessage)}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getEightHouses=function(){var e=a.state.searchedHouses;e.length>8?a.setState({eightHouses:e.slice(e.length-8,e.length)}):a.setState({eightHouses:e})},a.getFiveActivities=function(){var e=a.state.searchedHouses.map(function(e){return e.area}),t=[];e.forEach(function(e){t.push.apply(t,Object(f.a)(e.activity))});var n=new Set(t.map(function(e){return JSON.stringify(e)})),s=Array.from(n).map(function(e){return JSON.parse(e)}),l=Object(f.a)(s.slice(s.length-5,s.length));a.setState({fiveActivities:l})},a.state={searchedHouses:a.props.location.state.searchRes,eightHouses:[],fiveActivities:[],searchInput:a.props.location.state.searchInput},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.location.state.searchInput!==e.location.state.searchInput&&(this.setState({searchedHouses:this.props.location.state.searchRes,searchInput:this.props.location.state.searchInput}),this.getEightHouses(),this.getFiveActivities())}},{key:"componentDidMount",value:function(){this.getEightHouses(),this.getFiveActivities()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(B,{searchInput:this.state.searchInput,toggleModal:this.props.toggleModal}),s.a.createElement(A,{title:"Where to stay",housing:this.state.eightHouses})," ",this.state.fiveActivities?s.a.createElement(I,{title:"What to do",activity:this.state.fiveActivities}):"")}}]),t}(n.Component),B=function(e){switch(e.searchInput.where){case"5c923f3aa949af76694593f8":e.searchInput.where="Western Swiss Alps";break;case"5c923f3aa949af76694593f9":e.searchInput.where="Jura Mountains";break;case"5c923f3aa949af76694593fa":e.searchInput.where="Eastern Swiss Alps";break;case"5c9366297df282b768d776e5":e.searchInput.where="Black Forest";break;case"5c9366887df282b768d776e6":e.searchInput.where="French Alps"}return s.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",style:{borderBottom:"solid 1px hsl(0, 0%, 96%)"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{style:{}},s.a.createElement("div",{id:"navMenu",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"button is-info",onClick:function(){e.toggleModal("search")}},s.a.createElement(p.a,{style:{marginRight:"5px"},icon:"search"}),e.searchInput.where),"undefined"!==String(e.searchInput.from)?s.a.createElement("div",{className:"button is-info",onClick:function(){e.toggleModal("search")}},s.a.createElement(p.a,{style:{marginRight:"5px"},icon:"calendar-week"}),M()(String(e.searchInput.from)).format("MMMM Do YYYY")):"","undefined"!==String(e.searchInput.to)?s.a.createElement("div",{className:"button is-info",onClick:function(){e.toggleModal("search")}},s.a.createElement(p.a,{style:{marginRight:"5px"},icon:"calendar-week"}),M()(String(e.searchInput.to)).format("MMMM Do YYYY")):"")))))))},_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).toggleSearchModal=function(){a.props.toggleModal("search")},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background",onClick:this.toggleSearchModal}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Search S\xf6n"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.toggleSearchModal})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("div",null,s.a.createElement(W,Object.assign({},this.props,{toggleSearchModal:this.toggleSearchModal,modalSearch:!0})))))))}}]),t}(n.Component),U=Object(d.f)(_),F=a(31),T=a(42),P=a.n(T),Y=function(){return s.a.createElement("div",{className:P.a.loadingScreen},s.a.createElement("div",{className:P.a.spinner}," "))},z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!0},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"stopLoader",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loading&&s.a.createElement(Y,null),s.a.createElement(Q,this.props),s.a.createElement(G,null),s.a.createElement(O,{title:"Most popular area's"}),s.a.createElement(J,null),s.a.createElement(q,{title:"Great outdoor activities",stopLoader:this.stopLoader.bind(this)}))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={allActivities:[],fiveActivities:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getFiveActivities",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/activities")}).then(function(t){var a=Object(f.a)(t.data);e.setState({allActivities:t.data,fiveActivities:a.slice(a.length-5,a.length)}),e.props.stopLoader()}).catch(function(e){})}},{key:"componentDidMount",value:function(){this.getFiveActivities()}},{key:"render",value:function(){return s.a.createElement(I,{title:this.props.title,activity:this.state.fiveActivities})}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={allHouses:[],randomEight:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getRandomEight",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings")}).then(function(t){var a=t.data;e.setState({allHouses:a,randomEight:a.splice(a.length-8,8)})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getRandomEight()}},{key:"render",value:function(){return s.a.createElement(A,{housing:this.state.randomEight,title:"Houses in the best areas"})}}]),t}(n.Component);function Q(e){return s.a.createElement("div",{className:"hero-home"},s.a.createElement(F.Container,null,s.a.createElement(F.Section,null,s.a.createElement("div",{className:"columns is-vcentered",style:{maxWidth:"100vw",minHeight:"calc(100vh - 20vh)",margin:"0px"}},s.a.createElement("div",{className:"column is-4 hero-form"},s.a.createElement("h1",{className:"title is-spaced"},"Book the best appartments while traveling solo"),s.a.createElement("h2",{className:"subtitle is-size-4"},"Meet other outdoor enthusiasts and share unique appartments in the best locations"),s.a.createElement("div",{className:"",style:{}},s.a.createElement(W,e))),s.a.createElement("div",{className:"column is-6",style:{padding:"0px",margin:"0px"}})))))}function G(){return s.a.createElement(F.Container,null,s.a.createElement(F.Section,null,s.a.createElement("div",{className:"column is-half is-paddingless"},s.a.createElement("h1",{className:"title"},"Affordable solo travels in three steps"),s.a.createElement("p",{className:"subtitle is-size-5",style:{marginBottom:"21px"}},"Adventshare is for solo outdoorsport travelers who want to rent appartments without paying for empty beds.")),s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"card step-card is-borderless is-shadowless",style:{backgroundImage:'url("/img/rowan-heuvel-21529-unsplash.jpg")'}},s.a.createElement("div",{className:"card-content"},s.a.createElement("h1",{className:"title has-text-light has-text-weight-bold",style:{fontSize:"4em"}},"Step One"))),s.a.createElement("h1",{className:"title is-4",style:{marginTop:"21px"}},"Select"),s.a.createElement("p",{className:"subtitle is-size-5"},"Select the appartments you are interested in. You can select multiple apparments")),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"card step-card is-borderless is-shadowless",style:{backgroundImage:'url("/img/pablo-merchan-montes-772142-unsplash.jpg")'}},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"content is-flex"},s.a.createElement("h1",{className:"title has-text-light has-text-weight-bold",style:{fontSize:"4em"}},"Step Two")))),s.a.createElement("h1",{className:"title is-4",style:{marginTop:"21px"}},"Gather"),s.a.createElement("p",{className:"subtitle is-size-5"},"Wait untill enough people have shown interest in one of your selections")),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"card step-card is-borderless is-shadowless",style:{backgroundImage:'url("/img/david-calderon-1065248-unsplash.jpg")'}},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"content is-flex"},s.a.createElement("h1",{className:"title has-text-light has-text-weight-bold",style:{fontSize:"4em"}},"Step Three")))),s.a.createElement("h1",{className:"title is-4",style:{marginTop:"21px"}},"Experience"),s.a.createElement("p",{className:"subtitle is-size-5"},"Give a final go and start your adventure. Its gonna be sick!")))))}var V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state;N()({method:"post",url:"".concat("http://localhost:3002/api","/users"),data:t,withCredentials:!0}).then(function(e){a.props.loggingIn(e)}).catch(function(e){e.response?a.setState({errorMessage:e.response.data.message}):a.setState({errorMessage:"something went wrong!, try again..."})})},a.state={firstname:"",email:"",bio:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background",onClick:function(){e.props.toggleModal("signup")}}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Create an Account!"),s.a.createElement("button",{onClick:function(){e.props.toggleModal("signup")},className:"delete","aria-label":"close"})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("form",{onSubmit:this.handleSubmit,action:"http://localhost:3002/api/users"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"E-Mail Address"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",onChange:this.handleChange,type:"email",name:"email",placeholder:"email",value:this.state.email}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Firstname"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",onChange:this.handleChange,type:"text",name:"firstname",placeholder:"firstname",value:this.state.firstname}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",onChange:this.handleChange,type:"password",name:"password",placeholder:"password",value:this.state.password}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Bio"),s.a.createElement("div",{className:"control"},s.a.createElement("textarea",{className:"textarea",onChange:this.handleChange,name:"bio",placeholder:"Tell us about yourself!",value:this.state.bio}))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"button is-link",type:"submit",value:"Sign Up"}))),s.a.createElement("small",null,"Already have an account? ",s.a.createElement("span",{onClick:function(){e.props.toggleModal("both")},style:{color:"blue",cursor:"pointer"}},"Login")),s.a.createElement("br",null),s.a.createElement("br",null),this.state.errorMessage))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state;N()({method:"post",url:"".concat("http://localhost:3002/api","/users/login"),data:t,withCredentials:!0}).then(function(e){e.data&&a.props.loggingIn(e)}).catch(function(e){e.response.data&&a.setState({errorMessage:e.response.data.message})})},a.state={email:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background",onClick:function(){e.props.toggleModal("login")}}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Log in!"),s.a.createElement("button",{onClick:function(){e.props.toggleModal("login")},className:"delete","aria-label":"close"})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("form",{onSubmit:this.handleSubmit,action:"http://localhost:3002/api/users/login"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"E-Mail"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",onChange:this.handleChange,type:"text",name:"email",placeholder:"email",value:this.state.email}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",onChange:this.handleChange,type:"password",name:"password",placeholder:"password",value:this.state.password}))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"button is-link",type:"submit",value:"Login"}))),s.a.createElement("small",null,"Don't have an Account yet? ",s.a.createElement("span",{onClick:function(){e.props.toggleModal("both")},style:{color:"blue",cursor:"pointer"}},"Signup")),s.a.createElement("br",null),s.a.createElement("br",null),this.state.errorMessage))))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={allUsers:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getAllUsers",value:function(){var e=this;N.a.get("".concat("http://localhost:3002/api","/users")).then(function(t){e.setState({allUsers:t.data})})}},{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"List of Users"),s.a.createElement("br",null),s.a.createElement("ul",null,this.state.allUsers.map(function(e){return s.a.createElement("li",{key:e._id},"Name: ",e.firstname," email: ",e.email," bio: ",e.bio)})))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={userData:null,finalBookings:null,bookings:null,interests:null},a.confirm=a.confirm.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"confirm",value:function(e,t){N()({method:"get",url:"".concat("http://localhost:3002/api","/bookings/confirm"),withCredentials:!0,params:{isConfirmed:t,bookingId:e}}),this.getBookingData()}},{key:"componentDidMount",value:function(){this.getBookingData()}},{key:"getBookingData",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/users/account"),withCredentials:!0}).then(function(t){var a=t.data,n=a.finalBookings,s=a.bookings,l=a.interests,i=a.sessionUser;s.forEach(function(e){-1!==e.confirmation.indexOf(i._id)&&(e.isConfirmed=!0)}),e.setState({userData:i,finalBookings:n,bookings:s,interests:l})}).catch(function(t){e.props.history.push("/users/login")})}},{key:"render",value:function(){var e=this,t=this.state.userData?this.state.userData:"",a=this.state.finalBookings?this.state.finalBookings:[],n=this.state.bookings?this.state.bookings:[],l=this.state.interests?this.state.interests:[];return s.a.createElement(k.Container,null,s.a.createElement(k.Section,{className:"hero is-bold"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"title is-1 is-spaced"},"Profile"),s.a.createElement("h2",{className:"subtitle"},"Hi ",s.a.createElement("strong",null,t.firstname),", welcome to your profile page."),s.a.createElement("p",{className:"content"},"Here you can manage your interests, bookings and account details"),s.a.createElement("hr",{className:"hr"}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"columns is-variable is-3"},s.a.createElement("div",{className:"column is-one-third"},s.a.createElement("div",{className:"card is-shadowless"},s.a.createElement("div",{className:"card-content"},s.a.createElement("h1",{className:"title is-3 is-spaced"},"Details"),s.a.createElement("div",{className:"content"},s.a.createElement("ul",{className:"no-list-style"},s.a.createElement("li",null,s.a.createElement("strong",null,"Name"),s.a.createElement("br",null),t.firstname),s.a.createElement("br",null),s.a.createElement("li",null,s.a.createElement("strong",null,"E-Mail")," ",s.a.createElement("br",null),t.email),s.a.createElement("br",null),s.a.createElement("li",null,s.a.createElement("strong",null,"Bio"),s.a.createElement("br",null),t.bio)))))),s.a.createElement("div",{className:"column is-one-third"},s.a.createElement("div",{className:"card is-shadowless"},s.a.createElement("div",{className:"card-content"},s.a.createElement("h1",{className:"title is-3 is-spaced"},"Interests"),l.map(function(e){return s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement(p.a,{icon:"info-circle"})),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",null,s.a.createElement("strong",null,e.housing.title)),s.a.createElement("p",null,"2019 Week ",e.date),s.a.createElement("p",null,e.users.length,"/",e.housing.beds," interested Adventsharers")),s.a.createElement("div",{className:"media-right"},s.a.createElement("a",{href:"/housings/"+e.housing._id},s.a.createElement(p.a,{icon:"link"}))))}),s.a.createElement("hr",{className:"hr"}),s.a.createElement("h1",{className:"title is-3 is-spaced"},"Waiting Confirmation"),s.a.createElement("ul",null,n.map(function(t){return s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement(p.a,{icon:"question-circle"})),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",null,s.a.createElement("strong",null,t.housing.title)),s.a.createElement("p",null,"2019 Week ",t.date),s.a.createElement("p",null,t.users.length,"/",t.housing.beds," interested Adventsharers"),s.a.createElement("p",null,t.confirmation.length,"/",t.housing.beds," confirmations")),s.a.createElement("div",{className:"media-right",style:{textAlign:"right"}},s.a.createElement("a",{href:"/housings/"+t.housing._id},s.a.createElement(p.a,{icon:"link"})),s.a.createElement("br",null),s.a.createElement("br",null),t.isConfirmed?s.a.createElement(p.a,{icon:"check-circle"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"button is-success",onClick:function(){e.confirm(t._id,!0)}},s.a.createElement(p.a,{icon:"check-circle"})),s.a.createElement("span",{className:"button is-danger",onClick:function(){e.confirm(t._id,!1)}},s.a.createElement(p.a,{icon:"times-circle"})))))}))))),s.a.createElement("div",{className:"column is-one-third"},s.a.createElement("div",{className:"card is-shadowless"},s.a.createElement("div",{className:"card-content"},s.a.createElement("h1",{className:"title is-3 is-spaced"},"Bookings"),s.a.createElement("ul",null,a.map(function(e){return s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement(p.a,{icon:"check-circle"})),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",null,s.a.createElement("strong",null,e.housing.title)),s.a.createElement("p",null,"2019 Week ",e.date),s.a.createElement("p",null,e.users.length,"/",e.housing.beds," interested Adventsharers")),s.a.createElement("div",{className:"media-right"},s.a.createElement("a",{href:"/housings/"+e.housing._id},s.a.createElement(p.a,{icon:"link"}))))}))))))))))}}]),t}(n.Component),Z=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.loggingOut(),this.props.history.push("/"),N()({method:"get",url:"".concat("http://localhost:3002/api","/users/logout"),withCredentials:!0})}},{key:"render",value:function(){return s.a.createElement(d.a,{to:"/"})}}]),t}(n.Component),ee=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Very very private content"))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={allAreas:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getAllAreas",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/areas")}).then(function(t){e.setState({allAreas:t.data})}).catch(function(e){})}},{key:"componentDidMount",value:function(){this.getAllAreas()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",{className:"title"},"Overview of all the areas"),s.a.createElement("ul",null,s.a.createElement("div",{class:"columns"},s.a.createElement("div",{class:"column is-half"},this.state.allAreas.map(function(e){return s.a.createElement("div",{className:"areaBox",key:e._id},s.a.createElement(g.b,{to:"/areas/"+e._id},s.a.createElement("h2",{className:"title is-4"},e.name)),s.a.createElement("p",null,"description: ",e.description),s.a.createElement("p",null,"Climbing Areas"),s.a.createElement("ul",null,e.climbing_areas.map(function(e){return s.a.createElement("li",null," --\x3e ",e)})))})))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0,selectedArea:[],activities:[],housing:[],topActivities:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getSelectedArea",value:function(e){var t=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/areas/details/")+e}).then(function(e){var a=e.data,n=a.area,s=a.housingsInArea,l=Object(f.a)(e.data.area.activity);t.setState({selectedArea:n,housing:s,activities:n.activity,loading:!1,topActivities:l.slice(l.length-5,l.length)})}).catch(function(e){})}},{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/").pop();this.getSelectedArea(e)}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loading&&s.a.createElement(Y,null),this.state.selectedArea.name?s.a.createElement("div",{className:"hero heroBgImage",style:{backgroundImage:"url("+this.state.selectedArea.img[1]+")"}},s.a.createElement("h1",{class:"is-1 title heroing",style:{color:"white"}},this.state.selectedArea.name)):"",this.state.selectedArea.name?s.a.createElement(S,{area:this.state.selectedArea,allActivities:this.state.activities}):"",this.state.topActivities?s.a.createElement(I,{activity:this.state.topActivities,title:"Top activities in the "+this.state.selectedArea.name}):"",s.a.createElement(A,{housing:this.state.housing,title:"Housing in "+this.state.selectedArea.name}))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={areasWithActivity:[],housingsWithActivity:[],activityInfo:[],loading:!0},a.getAreasWithActivity=a.getAreasWithActivity.bind(Object(h.a)(Object(h.a)(a))),a.getHousingWithActivity=a.getHousingWithActivity.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getHousingWithActivity",value:function(e){var t=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/activities/details/housing/")+e}).then(function(e){t.setState({housingsWithActivity:e.data})}).catch(function(e){console.log(e)})}},{key:"getActivity",value:function(e){var t=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/activities/details/activity/")+e}).then(function(e){t.setState({activityInfo:e.data[0],loading:!1})}).catch(function(e){console.log(e)})}},{key:"getAreasWithActivity",value:function(e){var t=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/activities/details/area/")+e}).then(function(e){t.setState({areasWithActivity:e.data})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/").pop();this.getAreasWithActivity(e),this.getHousingWithActivity(e),this.getActivity(e)}},{key:"render",value:function(){var e=this.state.activityInfo,t=this.state.housingsWithActivity,a=this.state.areasWithActivity;return s.a.createElement("div",null,this.state.loading&&s.a.createElement(Y,null),e.name?s.a.createElement("div",{className:"hero heroBgImage",style:{backgroundImage:"url("+e.img[0]+")"}},s.a.createElement("h1",{class:"is-1 title heroing",style:{color:"white"}},e.name)):"",a?s.a.createElement(j,{title:"Great areas to go",activity:e,areas:a}):"",s.a.createElement(A,{housing:t,title:"Lovely houses for your ",activityTitle:e.name,activity:e}))}}]),t}(n.Component),se=a(73),le=a.n(se),ie=a(74),ce=a.n(ie),re=a(75),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleDayChange=function(e){a.setState({selectedDays:a.getWeekDays(a.getWeekRange(e).from),date:a.getWeekNumber(e)},function(){a.getBookingData()})},a.handleDayEnter=function(e){a.setState({hoverRange:a.getWeekRange(e)})},a.handleDayLeave=function(){a.setState({hoverRange:void 0})},a.handleWeekClick=function(e,t,n){a.setState({selectedDays:t,date:e},function(){a.getBookingData()})},a.state={loading:!0,hoverRange:void 0,selectedDays:a.getWeekDays(a.getWeekRange(new Date).from),selectedHousing:[],selectedArea:[],bookingData:"",interested:!1,otherHousesInArea:[],currentUserId:a.props.currentUserId,numberOfInterests:0,date:a.getWeekNumber(new Date),myDays:[],bookedDays:[],interestedDays:[],currentImage:0},a.showInterest=a.showInterest.bind(Object(h.a)(Object(h.a)(a))),a.deleteInterest=a.deleteInterest.bind(Object(h.a)(Object(h.a)(a))),a.isUserInterested=a.isUserInterested.bind(Object(h.a)(Object(h.a)(a))),a.getSelectedHousing=a.getSelectedHousing.bind(Object(h.a)(Object(h.a)(a))),a.getBookingData=a.getBookingData.bind(Object(h.a)(Object(h.a)(a))),a.getOtherHousesInArea=a.getOtherHousesInArea.bind(Object(h.a)(Object(h.a)(a))),a.closeLightbox=a.closeLightbox.bind(Object(h.a)(Object(h.a)(a))),a.openLightbox=a.openLightbox.bind(Object(h.a)(Object(h.a)(a))),a.gotoNext=a.gotoNext.bind(Object(h.a)(Object(h.a)(a))),a.gotoPrevious=a.gotoPrevious.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/").pop();this.getSelectedHousing(e)}},{key:"componentWillUpdate",value:function(e,t){t.selectedHousing._id!==window.location.pathname.split("/").pop()&&(this.getSelectedHousing(window.location.pathname.split("/").pop()),window.scrollTo(0,0))}},{key:"componentDidUpdate",value:function(e,t){e.isAuthenticated!==this.props.isAuthenticated&&this.getBookingData()}},{key:"getWeekDays",value:function(e){for(var t=[e],a=1;a<7;a+=1)t.push(M()(e).add(a,"days").toDate());return t}},{key:"getWeekRange",value:function(e){return{from:M()(e).startOf("week").toDate(),to:M()(e).endOf("week").toDate()}}},{key:"getWeekNumber",value:function(e){return M()(e).week()}},{key:"getCurrentWeekNumber",value:function(){var e=M()(new Date);return M()(e).week()}},{key:"openLightbox",value:function(e,t){this.setState({currentImage:t.index,lightboxIsOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({currentImage:0,lightboxIsOpen:!1})}},{key:"gotoPrevious",value:function(){this.setState({currentImage:this.state.currentImage-1})}},{key:"gotoNext",value:function(){this.setState({currentImage:this.state.currentImage+1})}},{key:"getSelectedHousing",value:function(e){var t=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings/")+e,withCredentials:!0}).then(function(e){t.setState({selectedHousing:e.data,selectedArea:e.data.area,allActivities:Object(f.a)(e.data.area.activity),fiveAreaActivities:e.data.area.activity.splice(e.data.area.activity.length-5,5)}),t.getBookingData(),t.getCalenderInfo()})}},{key:"getBookingData",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings/booking"),withCredentials:!0,params:{housing:this.state.selectedHousing._id,date:this.state.date}}).then(function(t){null===t.data?e.setState({bookingData:"",numberOfInterests:0,interested:!1}):(e.setState({bookingData:t.data,numberOfInterests:t.data.users.length}),e.isUserInterested(t.data.users))})}},{key:"getCalenderInfo",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings/calendarInfo"),withCredentials:!0,params:{housing:this.state.selectedHousing._id}}).then(function(t){var a=t.data,n=a.myDays,s=a.bookedDays,l=a.interestedDays,i=[],c=[],r=[];n.forEach(function(e){i.push(new Date(e))}),s.forEach(function(e){c.push(new Date(e))}),l.forEach(function(e){r.push(new Date(e))}),e.setState({myDays:i,bookedDays:c,interestedDays:r}),e.getOtherHousesInArea()})}},{key:"getOtherHousesInArea",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings/inarea"),params:{areaId:this.state.selectedHousing.area._id,houseId:this.state.selectedHousing._id}}).then(function(t){var a=t.data;e.setState({otherHousesInArea:a.slice(a.length-8,a.length),loading:!1})})}},{key:"showInterest",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings/showInterest"),withCredentials:!0,params:{housingId:this.state.selectedHousing._id,date:this.state.date,beds:this.state.selectedHousing.beds}}).then(function(t){e.isUserInterested(t.data.users),e.getCalenderInfo()})}},{key:"deleteInterest",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/housings/deleteInterest"),withCredentials:!0,params:{housingId:this.state.selectedHousing._id,date:this.state.date}}).then(function(t){e.setState({interested:!1}),e.isUserInterested(t.data.users),e.getCalenderInfo()})}},{key:"isUserInterested",value:function(e){var t=this;e.forEach(function(e){var a=!1;e===t.props.currentUserId._id&&(a=!0),t.setState({interested:a})}),this.setState({numberOfInterests:e.length})}},{key:"render",value:function(){var e=this,t=this.state.selectedHousing,a=this.state.selectedArea,n=this.state.fiveAreaActivities,l=this.state.allActivities,i=this.state,c=i.hoverRange,r=i.selectedDays,o=this.state.otherHousesInArea,m=r.length>0,u={hoverRange:c,selectedRange:m&&{from:r[0],to:r[6]},hoverRangeStart:c&&c.from,hoverRangeEnd:c&&c.to,selectedRangeStart:m&&r[0],selectedRangeEnd:m&&r[6],booked:this.state.bookedDays,interests:this.state.interestedDays,myDays:this.state.myDays},h=[];t.img&&t.img.forEach(function(e){h.push({src:e,width:4,height:3})});var d="",g="";return this.state.bookingData.booked?(d=s.a.createElement("button",{className:"button is-success"},"Booked",s.a.createElement("span",{className:"icon is-small",style:{marginLeft:"7px"}},s.a.createElement(p.a,{icon:"check-circle"}))),this.props.isAuthenticated&&(g="You booked this place!")):this.state.bookingData.full?(d=s.a.createElement("button",{className:"button is-primary"},"Reserved",s.a.createElement("span",{className:"icon is-small",style:{marginLeft:"7px"}},s.a.createElement(p.a,{icon:"check-circle"}))),this.props.isAuthenticated&&(g="You reserved this place!")):this.state.interested?(d=s.a.createElement("div",{className:"button is-primary has-icon-right",onClick:this.deleteInterest},"Interested",s.a.createElement("span",{className:"icon is-small",style:{marginLeft:"7px"}},s.a.createElement(p.a,{icon:"check-circle"}))),this.props.isAuthenticated&&(g="You are interested in this place!")):d=this.props.isAuthenticated?s.a.createElement("button",{className:"button is-info",onClick:this.showInterest},"Show Interest",s.a.createElement("span",{className:"icon is-small",style:{marginLeft:"7px"}},s.a.createElement(p.a,{icon:"heart"}))):s.a.createElement("button",{className:"button is-info",onClick:function(){e.props.toggleModal("login")}},"Show Interest",s.a.createElement("span",{className:"icon is-small",style:{marginLeft:"7px"}},s.a.createElement(p.a,{icon:"heart"}))),s.a.createElement("div",null,this.state.loading&&s.a.createElement(Y,null),t.title?s.a.createElement("div",null,s.a.createElement("div",{className:"imageBox",style:{backgroundImage:"url("+t.img[0]+")"}}),s.a.createElement(k.Container,null,s.a.createElement(k.Section,null,s.a.createElement("div",{className:"columns is-variable is-1-mobile is-0-tablet is-3-desktop is-8-widescreen is-2-fullhd"},s.a.createElement("div",{className:"column is-7"},s.a.createElement("h1",{className:"title is-2"},t.title),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-custom-icon"},s.a.createElement(p.a,{icon:"location-arrow"})),s.a.createElement("div",{className:"column"},s.a.createElement("p",{className:"subtitle is-5"},t.address.city," - ",t.address.country))),s.a.createElement("hr",null),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-custom-icon"},s.a.createElement(p.a,{icon:"info"})),s.a.createElement("div",{className:"column"},s.a.createElement("p",{className:"subtitle is-5"},t.description))),s.a.createElement("hr",null),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-custom-icon"},s.a.createElement(p.a,{icon:"bed"})),s.a.createElement("div",{className:"column"},s.a.createElement("p",{className:"subtitle is-5"},t.beds," beds"))),s.a.createElement("hr",null),s.a.createElement(re.a,{photos:h,onClick:this.openLightbox,columns:2}),s.a.createElement(ce.a,{images:h,onClose:this.closeLightbox,onClickPrev:this.gotoPrevious,onClickNext:this.gotoNext,currentImage:this.state.currentImage,isOpen:this.state.lightboxIsOpen,backdropClosesModal:!0,showThumbnails:!0})),s.a.createElement("div",{className:"column"}),s.a.createElement("div",{className:"column is-4"},s.a.createElement("div",{className:"booking-box"},s.a.createElement("p",{className:"subtitle is-5 price"},s.a.createElement("div",{style:{marginBottom:"7px"}},s.a.createElement("strong",{className:"title is-4"},"\u20ac",t.pricing)," "," per week"),s.a.createElement(p.a,{icon:"star"}),s.a.createElement(p.a,{icon:"star"}),s.a.createElement(p.a,{icon:"star"}),s.a.createElement(p.a,{icon:"star"}),s.a.createElement(p.a,{icon:"star"})),s.a.createElement("hr",null),s.a.createElement("p",{className:"subtitle is-5"},"Traveldates:"),s.a.createElement("div",{className:"selectedWeek"},s.a.createElement(le.a,{selectedDays:r,showWeekNumbers:!0,showOutsideDays:!0,modifiers:u,onDayClick:this.handleDayChange,onDayMouseEnter:this.handleDayEnter,onDayMouseLeave:this.handleDayLeave,onWeekClick:this.handleWeekClick,month:new Date(2019,3)}),7===r.length&&s.a.createElement("div",null,M()(r[0]).format("LL")," \u2013"," ",M()(r[6]).format("LL"))),s.a.createElement("hr",null),d,""!==g?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("strong",null,g)):"",s.a.createElement("hr",null),s.a.createElement("strong",null," ",this.state.numberOfInterests," / ",t.beds," Interested Adventsharers:"),s.a.createElement("br",null),s.a.createElement("br",null))))))):"",s.a.createElement("hr",{className:"hr"}),a.name?s.a.createElement(S,{area:a,allActivities:l}):"",s.a.createElement("hr",{className:"hr"}),n?s.a.createElement(I,{activity:n,title:"Best area activities"}):"",s.a.createElement("hr",{className:"hr"}),o?s.a.createElement(A,{housing:o,title:"Similar houses in the "+a.name}):"",s.a.createElement("hr",{className:"hr"}),s.a.createElement(O,{title:"Other top areas"}))}}]),t}(n.Component),me=a(29),ue=a(14);me.b.add(ue.m,ue.a,ue.b,ue.i,ue.f,ue.g,ue.j,ue.d,ue.l,ue.c,ue.e,ue.h,ue.k,ue.n);var he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isAuthenticated:!1,user:"",signupModal:!1,loginModal:!1,searchModal:!1},a.loggingIn=a.loggingIn.bind(Object(h.a)(Object(h.a)(a))),a.loggingOut=a.loggingOut.bind(Object(h.a)(Object(h.a)(a))),a.toggleModal=a.toggleModal.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"getUserInfo",value:function(){var e=this;N()({method:"get",url:"".concat("http://localhost:3002/api","/users/profile"),withCredentials:!0}).then(function(t){e.setState({isAuthenticated:!0,user:t.data})}).catch(function(e){})}},{key:"loggingIn",value:function(e){this.getUserInfo(),this.setState(function(){return{loginModal:!1,signupModal:!1}})}},{key:"loggingOut",value:function(){this.setState({isAuthenticated:!1,user:""})}},{key:"toggleModal",value:function(e){"signup"===e?this.setState({signupModal:!this.state.signupModal}):"login"===e?this.setState({loginModal:!this.state.loginModal}):"both"===e?this.setState({signupModal:!this.state.signupModal,loginModal:!this.state.loginModal}):"search"===e&&this.setState({searchModal:!this.state.searchModal})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(v,Object.assign({},this.props,{loggedIn:this.state.isAuthenticated,toggleModal:this.toggleModal})),s.a.createElement(d.d,null,s.a.createElement(d.b,{path:"/",exact:!0,component:z}),s.a.createElement(d.b,{path:"/users/logout",exact:!0,render:function(t){return s.a.createElement(Z,Object.assign({},t,{loggingOut:e.loggingOut}))}}),s.a.createElement(d.b,{path:"/users/account",exact:!0,render:function(t){return s.a.createElement(X,Object.assign({},t,{loggedIn:e.state.isAuthenticated}))}}),s.a.createElement(d.b,{path:"/users/signup",exact:!0,render:function(t){return s.a.createElement(V,Object.assign({},t,{loggingIn:e.loggingIn}))}}),s.a.createElement(d.b,{path:"/search/q",render:function(t){return s.a.createElement(R,Object.assign({},t,{query:t.location.state.query,toggleModal:e.toggleModal}))}}),s.a.createElement(d.b,{path:"/users",exact:!0,component:K}),s.a.createElement(d.b,{path:"/protected/index",exact:!0,component:ee}),s.a.createElement(d.b,{path:"/areas",exact:!0,component:te}),s.a.createElement(d.b,{path:"/areas/:areaId",component:ae}),s.a.createElement(d.b,{path:"/activities/:activityId",component:ne}),s.a.createElement(d.b,{path:"/housings/:housingId",render:function(t){return s.a.createElement(oe,Object.assign({},t,{isAuthenticated:e.state.isAuthenticated,toggleModal:e.toggleModal,currentUserId:e.state.user}))}})),this.state.searchModal?s.a.createElement(U,{toggleModal:this.toggleModal}):"",this.state.signupModal?s.a.createElement(V,{loggingIn:this.loggingIn,toggleModal:this.toggleModal}):"",this.state.loginModal?s.a.createElement($,{loggingIn:this.loggingIn,toggleModal:this.toggleModal}):"")}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(161),a(162);i.a.render(s.a.createElement(g.a,null,s.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,a){e.exports={loadingScreen:"loaderStyles_loadingScreen__1jnEa",spinner:"loaderStyles_spinner__3O1vf"}},77:function(e,t,a){e.exports=a(163)}},[[77,1,2]]]);
//# sourceMappingURL=main.fdafb4c4.chunk.js.map